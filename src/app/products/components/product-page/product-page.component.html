<div class="product-table-card p-4 rounded shadow-sm bg-white">
  <h3 class="mb-3">Product Table</h3>
  <hr />

  <div *ngIf="products && !isLoading" class="table-responsive">
    <table class="table align-middle mb-0">
      <thead class="table-light">
        <tr>
          <th>ID</th>
          <th>Title</th>
          <th>Description</th>
          <th>Category</th>
          <th (click)="toggleSort()" class="sortable">
            Price (USD)
            <span class="sort-arrow" [class.asc]="sortDirection==='asc'" [class.desc]="sortDirection==='desc'"></span>
          </th>
          <th>Image</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let p of products">
          <td>{{ p.id }}</td>
          <td>{{ p.title }}</td>
          <td class="description-cell">
            <div class="text-truncate" [title]="p.description">
              {{ p.description }}
            </div>
          </td>
          <td>{{ p.category }}</td>
          <td>${{ p.price.toFixed(2) }}</td>
          <td>
            <div class="product-image-wrapper">
              <img class="product-image" [src]="p.images[0]" [alt]="p.title" />
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div *ngIf="isLoading && !products" class="text-center">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
</div>